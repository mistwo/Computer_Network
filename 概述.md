# 概述

## 在信息时代中的作用

### 21世纪

- 数字化、网络化、信息化
- 以网络为核心的时代

### 三大网络

“三网融合”

- 电信网络

  提供电话、传真、电报等服务

- 有线电视网络

  传送各种电视节目

- 计算机网络

  计算机之间传送数据

	- Internet

		- 因特网/互联网
		- 特点

			- 连通性
			- 资源共享

		- 互联网+

			- 即“互联网+各种传统行业”

	- 一些负面影响

## 互联网概述

### 起源于美国

- 从免费的教育科研网络->覆盖全球的商业网络

### 基本概念

- 计算机网络，简称“网络”

	- 结点 node

		- 计算机
		- 集线器
		- 交换机
		- 路由器
		- ……

	- 链路 link

- 互连网 internet

	- “网络的网络”
	- 网络通过路由器相连
	- 网络互连需要软件支持，这些软件使计算机能够交换信息

- 主机 host

	- 与网络相连的计算机

		- 智能手机也能称为主机

### 互联网基础结构发展三个阶段

- 第一阶段

	- 从ARPANET->internet

		- ARPANET 1990年关闭

	- 1983年，TCP/IP协议成为ARPANET标准协议

		- 互联网 Internet 诞生

- 第二阶段

	- 特点：建成了三级结构的互联网

		- NSFNET

- 第三阶段

	- 形成了多层次ISP结构的互联网

		- 互联网服务提供者 Internet Service Provider

			- 例如中国电信、联通、移动

		- 上网，即“通过ISP获得的IP地址接入互联网”

			- IP地址不“零售”，只“批发”

		- 三层ISP结构

			- 主干ISP
			- 地区ISP
			- 本地ISP

		- 互联网交换点 IXP / Internet eXchange Point

			- 如何更快地转发分组，有效地利用网络资源
			- 主要作用：允许两个网络直接相连并交换分组，不需要第三个网络来转发分组

				- 使互联网数据流量分布更合理
				- 减少迟延时间
				- 降低分组转发费用

### 标准化工作

- 面向公众

	- TFC文档可免费下载，随时发表意见或建议

- 互联网协会 ISOC/ Internet Society

	- 互联网体系结构委员会 IAB

		- 互联网工程部 IETF
		- 互联网研究部 IRTF

- 制定正式标准的阶段

	- 互联网草案 Internet Draft

		- 6个月

	- 建议标准 Proposed Standard

		- RFC文档

			- RFC INDEX 查找

	- 互联网标准 Internet Standard

		- 分配编号 STD xx

## 互联网的形成

### 边缘部分

- 所有连接在互联网上的主机组成

	- 用户直接使用

		- 主机间相互通信，并交换或共享信息

- 这些主机被称为端系统 end system
- 计算机之间的通信

	- 主机A的某个进程与主机B上的另一个进程进行通信
	- 端系统间的通信方式

		- 客户-服务器方式 C/S

			- 描述的是进程之间服务和被服务的关系

				- client

					- 服务请求方
					- 主动请求服务，因此必须知道服务器程序地址
					- 不需要特殊的硬件和复杂的操作系统

				- server

					- 服务提供方
					- 专门提供服务的程序，可同时处理多个远地/本地请求
					- 启动系统自动调用，不断运行，被动等待接手client的通信请求
					- 需要强大的硬件和高级操作系统支持

				- user

					- 操作计算机的人

		- 对等方式 P2P

			- peer to peer

				- 进行平等的对等连接通信

					- 双方都能下载对方的共享文档
					- 支持大量对等用户同时工作

### 核心部分

- 大量网络和连接这些网络的路由器组成

	- 为边缘部分提供服务

- 路由器 router

	- 是一种专用计算机
	- 是实现分组交换 packet switching 的关键构件

		- 转发收到的分组
		- 分组交换

			- 引论：电路交换 circuit switching

				- switching

					- 按照某种方式，动态分配传输线路的资源

				- 建立连接->通话->释放连接

					- 占用通信资源->占用中->归还
					- 通话过程中用户始终占用端到端的通信资源

				- 传输计算机数据效率低

					- 计算机数据为突发式

			- 存储转发技术

				- 报文 message

				  要传送的整块数据

				- 首部 header

				  一些必要的控制信息，诸如目的地址、源地址等

					- 分组 packet = 首部 + 数据段

						- 分组又称为“包”

					- 分组的首部又称“包头”

			- 优点

				- 高效
				- 迅速
				- 灵活
				- 可靠

			- 问题

				- 时延
				- 控制信息带来的开销 overhead

			- 其它：报文交换 message switching

	- 主机与路由器

		- 主机为用户进行信息处理，并可以与其他主机通过网络交换信息。路由器用来转发分组，即进行分组交换的。
		- 动态转发表

- 讨论转发分组

	- 把网络简化成链路
	- 把路由器简化成结点

## 计算机网络在我国的发展

### 铁道部最早着手建设 1980

- CNPAC 1989

	- 局域网

		- 正式接入互联网 1994

### 我国规模最大的计算机网络

- 中国电信互联网

	- CHINANET

- 中国联通互联网

	- UNINET

- 中国移动互联网

	- CMNET

- 中国教育和科研计算机网

	- CERNET

- 中国科学技术网

	- CSTNET

### 中国互联网信息中心 CNNIC

- 网民

	- 6周岁

- 《中国互联网络发展状况统计报告》

## 计算机网络的类别

### 定义

- 主要是由一些通用的、可编程的硬件互连而成的，而这些硬件并非专门用来实现某一特定目的。这些可编程的硬件能够用来传送多种不同类型的数据，并能支持广泛的和日益增长的应用。

	- 可编程：一定要有CPU
	- 不限于一般计算机
	- 并非专门用来传输数据

### 分类

- 按照作用范围

	- 广域网 WAN

		- 远程网，是互联网的核心部分

	- 城域网 MAN
	- 局域网 LAN

		- 如校园网、企业网

	- 个人区域网 PAN

		- 无线个人区域网 WPAN

- 按照使用者

	- 公用网 public network
	- 专用网 private network

- 按照用户接入网络

	- 接入网 AN/Access Network

		- 本地接入网/居民接入网
		- 不属于核心也不属于边缘部分
		- 可作为用户与互联网连接的“桥梁”
		- 带宽接入技术

## 计算机网络的性能

### 性能指标

- 速率

	- 比特 bit

	  binary digit 二进制数字

		- 0，1
		- 信息论中 信息量的单位

	- 指数据传输速率

		- 即 数据率 data rate/ 比特率 bit rate
		- 单位：bit/s，b/s，bps，bit per second

			- kilo=1000
			- Mega=1000000
			- Giga=1000000000
			- Tera=1000000000000
			- Peta拍，Exa艾，Zetta泽，Yotta=尧

		- 一般指额定速率

- 带宽 bandwidth

	- 信号具有的频带宽度

		- 单位：赫 
		- 频域

	- 计算机网络中，表示网络中某通道传送数据的能力

		- 单位时间内网络某信道所能通过的“最高数据率”
		- 单位：数据率的单位，即bit/s
		- 时域

	- 两者本质一样

- 吞吐量 throughput

	- 测量实际上有多少数据通过网络

- 时延 delay/latency

	- 数据从网络一端传送到另一端所需时间
	- 发送时延 transmission delay

		- 主机或路由器发送数据所需的时间
		- 发送时延 = 数据帧长度 bit / 发送速率 bps

	- 传播时延 propagation delay

		- 电磁波在信道中传播一定的距离需要花费的时间
		- 传播时延 = 信道长度 m / 电磁波在信道上的传播速率（m/s）

			- 电磁波：3.0 x 10^5 km/s
			- 1000m光纤时延约5ms

	- 处理时延

		- 主机或路由器接收到分组需要花费一段时间处理

	- 排队时延

		- 分组在经过网络传输时，需要经过许多路由器，分组在进入路由器后要先在输入队列中排队等待处理。确定转发接口后，在输出队列中排队等待。

			- 若通信量很大，可能会发生队列溢出，丢失分组，相当于排队时延无穷大

	- 总时延 = 发送时延 + 传播时延 + 处理时延 + 排队时延
	- 注意

		- 对于高速网络链路，我们提高的仅仅是发送速率，而非传播速率，只能减少数据的发送时延
		- 发送速率：某个点/接口而言。传播速率：一段传输线路而言

			- 光纤信道传播速率高，指向信道发送数据快，而非传播速率快

- 时延带宽积

	- 传播时延 x 带宽

		- 链路长度用时间作为单位
		- 又称为以比特为单位的链路长度

- 往返时间 RTT

	- 互联网上的信息经常双向交互
	- 发送时间 = 数据长度 / 发送速率
	- 有效数据率 = 数据长度 / （发送时间 + RTT）

- 利用率

	- 信道利用率
	- 网络利用率

		- 全网信道利用率的加权平均值
		- D = D0 / (1 - U)

### 非性能特征

- 费用
- 质量
- 标准化
- 可靠性
- 可扩展性和可升级性
- 易于管理和维护

## 计算机的体系结构

### 形成

- 相互通信的两个计算机必须高度协调工作

	- 如何激活 activate 数据通信的通路
	- 如何接收数据
	- 如何解决兼容性问题
	- 如何确认对方已做好准备

- 分层

	- ARPANET设计时提出
	- IBM宣布了 系统网络体系结构SNA
	- ISO提出 开放系统互连基本参考模型 OSI/RM

		- 开发

		  并非独家垄断

		- 系统

		  互连相关部分

		- 七层协议体系结构

			- 法律上的国际标准
			- 失败

	- TPC/IP

		- 事实上的国际标准

### 协议与划分层次

- 为了保证数据交换，约定规则明确规定所交换的数据的格式以及有关的同步问题

	- 同步，有时序的意思
	- 这些为进行网络中的数据交换而建立的规则、标准或约定，称为网络协议

		- 语法

			- 数据与控制信息的结构或格式

		- 语义

			- 需要发出何种控制信息，完成何种动作以及做出何种响应

		- 同步

			- 事件实现顺序的详细说明

- 分层的优势

	- 各层之间独立

		- 降低复杂度

	- 灵活性好
	- 结构上可分割开

		- 用各自合适的技术实现

	- 易于实现和维护
	- 能促进标准化工作

		- 每一层的功能应该明确

			- 差错控制
			- 流量控制

				- 匹配发送速率和接收速率

			- 分段和重装
			- 复用和分用

				- 发送端几个高层会话复用一条低层连接，在接收端再分用

			- 连接建立和释放

				- 交换数据前建立一条逻辑连接

- 计算机网络各层及其协议的集合，就是网络的体系结构 architecture （抽象）

	- 即，计算机网络的体系结构就是这个计算机网络及其构件所完成的功能的精确定义
	- 这些功能用何种软件、硬件完成，则是遵循体系结构的实现 implementation（具体）

### 具有五层协议的体系结构

- 实际应用TCP/IP四层协议，五层协议仅为介绍网络原理
- 应用层 application layer

	- 任务：通过应用进程间的交互来完成特定网络应用
	- 定义了应用进程间通信和交互的规则

		- 进程指主机中正在运行的程序

	- 如：域名系统DNS，支持万维网应用的HTTP协议，支持电子邮件的SMTP协议
	- 数据单元：报文

- 运输层 transport layer

	- 任务：向两台主机进程之间的通信提供通用的数据传输服务

		- 传输控制协议 TCP

			- 连接的、可靠的数据传输服务
			- 单位：报文段 segment

		- 用户数据报协议 UDP

			- 无连接的、尽最大努力 best-effort 的数据传输服务
			- 单位：用户数据报

- 网络层 network layer

	- 任务：为分组交换网上的不同主机提供通信服务
	- 把运输层产生的报文段/数据报封装成分组/包进行传送

		- 网络层若使用IP协议，分组也叫“IP数据报”/“数据报”
		- 数据单元可笼统地用“分组”表示

	- 互联网使用大量的异构 heterogeneous 网络通过路由器router 相互连接。互联网中，使用无连接地网际协议IP和诸多路由选择协议

		- 互联网的网络层也叫“网际层”/“IP层”

- 数据链路层 data link layer

	- 任务：将网络层交下来的IP数据报“组装成帧” framing，在两个相邻结点间的链路上传送帧 frame

		- 每一帧包括数据和必要的控制信息

			- 控制信息切割数据
			- 控制信息检错，有错则丢弃

		- 若要纠错，使用可靠传输协议纠错，复杂些

- 物理层 physical layer

	- 单位：比特
	- 电压、引脚、连接……

- TCP/IP协议族 protocol suite

*XMind: ZEN - Trial Version*